## 第十六章

策略模式（Strategy）：

將定義的一組算法封裝起來，使其相互之間可以替換。封裝的算法具有一定獨立性，不會隨客戶端變化而變化。

- 1.js - 策略模式

- 2.js - 策略模式(表單驗證)


策略模式最主要的特色是創建一系列策略算法，魅族算法處理的業務都是相同的，只是處理的過程或者處理的結果不一樣，

所以它們又是可以相互替換的，這樣就解決了算法與使用者之間的耦合。在測試層面上講，由於每組算法相互之間的獨立性，

該模式更方便與對每組算法進行單元測試，保證算法的質量。

對於策略模式的有點可以歸納為3點


  1. 策略模式封裝了一組代碼組，並且封裝的代碼相互之間獨立，便於對算法的重複引用，提高了算法的複用率

  2. 策略模式與繼承相比，在類的繼承中繼承的方法是被封裝在類中，因此當需求很多算法時，就不得不創建出多種類，
  
    這樣會導致算法與算法的使用者耦合在一起，不利於算法的獨立演化，並且在類的外部改變類的算法難度也是極大的。

  3. 同狀態模式一樣，策略模式也是一種優化分支判斷語句的模式，採用策略模式對算法封裝使得算法更利於維護


當然，策略模式也有缺點。由於選擇哪種算法的決定權在用戶，所以對用戶來說就必須了解每種算法的實現。這就增加了用戶的使用成本。

其次，由於每種算法間相互獨立，這樣對於一些複雜的算法處理相同邏輯的部分無法實現共享，這就會造成一些資源的浪費。

當然你可以通過享元模式（第十三章）來解決。


對於分支語句的優化，目前為止已經學了3種，分別為工廠方法模式，狀態模式與策略模式。對於工廠方法模式來說，它是一種創建型模式，

它的最終目的是創建對象。而狀態模式與策略模式都是行為性模式，不過在狀態模式中，其核心是對狀態的控制來決定表現行為，

所以狀態之間通常是不能相互替代的，否則將產生不同的行為結果。而策略模式核心是算法，由於每種算法都要處理的業務邏輯相同，

因此他們可以相互替換，當然策略模式並不關心使用者的環境，因為同一種策略模式最寵產出的結果是一定的。